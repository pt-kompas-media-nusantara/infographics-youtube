function KompasInfographicsVideos(a,b){"use strict";this.mode=a,this.options=b,"youtube-timeline"!==this.mode&&(ytPlayer=null),ytContainer="youtube-timeline"===this.mode?this.options.container:null,ytData="youtube-timeline"===this.mode?this.options.data:null,ytMode="youtube-timeline"===this.mode?!0:!1,ytVideoId="youtube-timeline"===this.mode?this.options.youTubeVideoID:null}function onYouTubePlayerReady(){"use strict";if(ytMode){var k,l,m,n,a=document.getElementById(ytContainer),b=a.parentNode,c=document.createElement("div"),d=document.createElement("ul"),e=document.createElement("div"),f=document.createElement("div"),g=document.createElement("div"),h=0,i=Math.floor(ytData.length/4),j=0;k=function(a){a.addEventListener("click",m,!1)},l=function(){var a=this,b=a.parentNode.getElementsByClassName("next")[0],e=a.parentNode.getElementsByClassName("prev")[0],f=c.offsetWidth;a.classList.contains("next")&&(i>h?h++:h=i),a.classList.contains("prev")&&(h>j?h--:h=j),0===h?e.classList.remove("active"):h===i?b.classList.remove("active"):(b.classList.add("active"),e.classList.add("active")),d.style.left=-(h*f)+"px"},n=function(a){var b=document.createDocumentFragment(),d=c.offsetWidth,e=0;a.style.width=d/4*ytData.length+"px",ytData.forEach(function(a,c){var f=document.createElement("li"),g=document.createElement("a"),h=document.createElement("span"),i=document.createElement("span"),j=document.createElement("span"),l=document.createElement("span");f.className="kompas-infographics__yt__timeline__list__items",f.style.width=d/4+"px",f.setAttribute("data-start",a.secondStart),g.className="kompas-infographics__yt__timeline__list__items__links",g.href="https://www.youtube.com/watch?v="+ytVideoId,g.target="_blank",g.setAttribute("data-id",c),h.className="kompas-infographics__yt__timeline__list__items__titles",h.textContent=a.title,i.className="kompas-infographics__yt__timeline__list__items__speakers",i.textContent=a.speaker,j.className="kompas-infographics__yt__timeline__list__items__time__start",j.textContent=a.start,l.className="kompas-infographics__yt__timeline__list__items__box",g.appendChild(h),g.appendChild(i),g.appendChild(j),g.appendChild(l),f.appendChild(g),b.appendChild(f),k(g),c>0&&c%4===0&&e++,f.setAttribute("data-page",e)}),a.appendChild(b)},m=function(a){a.preventDefault();var b=this.getAttribute("data-id"),c=d.getElementsByClassName("kompas-infographics__yt__timeline__list__items");ytPlayer.pauseVideo(),ytPlayer.seekTo(ytData[b].secondStart,!0),window.setTimeout(function(){ytPlayer.playVideo(),[].forEach.call(c,function(a,c){b>=c?a.classList.add("active"):a.classList.remove("active")})},100)},c.className="kompas-infographics__yt__timeline__menu",d.className="kompas-infographics__yt__timeline__list",e.className="kompas-infographics__yt__timeline__menu__wrapper",f.className="kompas-infographics__yt__timeline__nav next active",g.className="kompas-infographics__yt__timeline__nav prev",c.appendChild(d),e.appendChild(g),e.appendChild(c),e.appendChild(f),b.insertBefore(e,a),n(d),f.addEventListener("click",l,!1),g.addEventListener("click",l,!1)}}function onYouTubePlayerStateChange(a){"use strict";var b=function(){var a=document.getElementById(ytContainer).parentNode,c=a.getElementsByClassName("kompas-infographics__yt__timeline__list")[0],d=c.getElementsByClassName("kompas-infographics__yt__timeline__list__items"),e=ytPlayer.getDuration(),f=ytPlayer.getCurrentTime();e>f&&([].forEach.call(d,function(a){var b=parseInt(a.getAttribute("data-start"),10);parseInt(a.getAttribute("data-page"),10);f>b?a.classList.add("active"):a.classList.remove("active")}),window.setTimeout(b,200))};a.data===YT.PlayerState.PLAYING&&b()}function onYouTubeIframeAPIReady(){"use strict";if(ytMode){var a=document.getElementById(ytContainer).offsetWidth,b=Math.floor(9/16*a);ytPlayer=new YT.Player(ytContainer,{height:b.toString(),width:a.toString(),videoId:ytVideoId,events:{onReady:onYouTubePlayerReady,onStateChange:onYouTubePlayerStateChange}})}}var ytContainer=null,ytData=null,ytMode=!1,ytPlayer=null,ytVideoId=null;KompasInfographicsVideos.prototype.initiateVideo=function(){"use strict";var a=document.createElement("link");a.rel="stylesheet",a.href="http://id.infografik.print.kompas.com/libs/css/kompas-infographics-video.css",a.type="text/css",document.head.appendChild(a),this.assembleTheMinions()},KompasInfographicsVideos.prototype.assembleTheMinions=function(){"use strict";switch(this.mode){case"youtube-timeline":this.initYoutubeTimeline(this.options)}},KompasInfographicsVideos.prototype.initYoutubeTimeline=function(a){"use strict";var c,d,b=document.getElementById(a.container);d=function(a){var b=a.split(":");return 60*parseInt(b[0],10)*60+60*parseInt(b[1],10)+parseInt(b[2],10)},(c=function(){var a=document.createElement("script"),c=b.cloneNode(!0),e=b.parentNode,f=document.createElement("div");ytData.forEach(function(a){a.secondStart=d(a.start)}),a.src="http://www.youtube.com/iframe_api",f.className="kompas-infographics__yt__timeline__wrapper",f.appendChild(c),e.insertBefore(f,b),e.removeChild(b),document.head.appendChild(a)})()};